# =============================================================================
# Flowable + SvelteKit BPM Demo
# Environment Variables Configuration
# =============================================================================

# This project supports split deployment:
# - Frontend (SvelteKit): Deploy to Netlify
# - Backend (Spring Boot/Flowable): Deploy to Railway

# =============================================================================
# FRONTEND CONFIGURATION (Netlify)
# Set these in Netlify dashboard: Site settings > Environment variables
# =============================================================================

# Backend API URL for client-side requests
# Leave empty - the server-side proxy handles all /api/* requests
VITE_API_URL=

# Backend URL for server-side proxy (hooks.server.ts)
# This is your Railway backend URL
# Example: https://your-app-production.up.railway.app
BACKEND_URL=http://localhost:8080

# Origin URL for CORS validation
# This is your Netlify site URL
# Example: https://your-app.netlify.app
ORIGIN=http://localhost:3000

# =============================================================================
# BACKEND CONFIGURATION (Railway)
# Set these in Railway dashboard: Variables
# =============================================================================

# Server port (Railway sets this automatically to 8080)
PORT=8080

# Netlify frontend URL for CORS
# Example: https://your-app.netlify.app
NETLIFY_URL=

# Additional CORS origins (comma-separated)
# Example: https://custom-domain.com,https://another-domain.com
CORS_ALLOWED_ORIGINS=

# Cookie configuration for cross-origin requests
# These should be 'true' and 'none' for cross-origin Netlify->Railway setup
COOKIE_SECURE=true
COOKIE_SAME_SITE=none

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Active Spring profile: 'h2' for development (default), 'postgresql' for production
SPRING_PROFILES_ACTIVE=h2

# PostgreSQL Configuration (required when SPRING_PROFILES_ACTIVE=postgresql)
# Connection string format: jdbc:postgresql://host:port/database
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/flowable
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=your_secure_password

# Connection pool settings (optional, sensible defaults provided)
# SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=2
# SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=10

# Logging level
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_ORG_FLOWABLE=INFO

# =============================================================================
# LOCAL DEVELOPMENT (docker-compose)
# =============================================================================

# Node environment
NODE_ENV=development

# For local development, cookies can use lax same-site:
# COOKIE_SECURE=false
# COOKIE_SAME_SITE=lax
